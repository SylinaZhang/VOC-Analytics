var te=Object.defineProperty;var T=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var N=(p,r,u)=>r in p?te(p,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):p[r]=u,$=(p,r)=>{for(var u in r||(r={}))le.call(r,u)&&N(p,u,r[u]);if(T)for(var u of T(r))oe.call(r,u)&&N(p,u,r[u]);return p};import{s as ae}from"./index-B84EMi0d.js";import{s as se}from"./index-GJEliolN.js";import{s as ie}from"./index-D68DtoGj.js";import{s as ne}from"./index-nTfGZAwy.js";import{s as re}from"./index-BydZ-W96.js";import{s as ue}from"./index-h-Jv46ek.js";import{s as de}from"./index-Dga9hBp7.js";import{s as ce}from"./index-QKwWJ6BT.js";import{s as me}from"./index-Ct6l3lSw.js";import{s as pe,a as ve}from"./index-QvGz82GH.js";import{s as fe}from"./index-Bw1x5_pn.js";import{s as ye}from"./index-CZ4kCCQ0.js";import{s as ge}from"./index-BewXgKyH.js";import{P as be}from"./ProductService-BtITuo-x.js";import{o as _e,aH as he,r as c,a as _,c as h,b as a,d as o,e as n,H as V,t as D,J as k,a2 as Se}from"./index-Bc3bAAiN.js";import"./index-Cbx4cp3Y.js";import"./index-CDkZaVKK.js";import"./index-DyY1ucbJ.js";import"./index-CAMXmtmr.js";import"./index-BCKLKQOk.js";import"./index-fHEX8RNA.js";import"./index-erLa119m.js";import"./index-CcJnEpJY.js";import"./index-DmU6RP03.js";import"./index-DxvPLIE7.js";import"./index-Fp3K4Y-L.js";const ke={class:"card"},xe={class:"flex flex-wrap gap-2 items-center justify-between"},Ce=a("h4",{class:"m-0"},"Manage Products",-1),Ve=a("i",{class:"pi pi-search"},null,-1),we=["src","alt"],Pe={class:"flex flex-col gap-6"},Ue=["src","alt"],Te=a("label",{for:"name",class:"block font-bold mb-3"},"Name",-1),Ne={key:0,class:"text-red-500"},$e=a("label",{for:"description",class:"block font-bold mb-3"},"Description",-1),De=a("label",{for:"inventoryStatus",class:"block font-bold mb-3"},"Inventory Status",-1),Oe=a("span",{class:"block font-bold mb-4"},"Category",-1),Ie={class:"grid grid-cols-12 gap-4"},Le={class:"flex items-center gap-2 col-span-6"},Me=a("label",{for:"category1"},"Accessories",-1),Ke={class:"flex items-center gap-2 col-span-6"},qe=a("label",{for:"category2"},"Clothing",-1),Fe={class:"flex items-center gap-2 col-span-6"},Re=a("label",{for:"category3"},"Electronics",-1),Ae={class:"flex items-center gap-2 col-span-6"},Be=a("label",{for:"category4"},"Fitness",-1),Ee={class:"grid grid-cols-12 gap-4"},He={class:"col-span-6"},We=a("label",{for:"price",class:"block font-bold mb-3"},"Price",-1),Ye={class:"col-span-6"},je=a("label",{for:"quantity",class:"block font-bold mb-3"},"Quantity",-1),Je={class:"flex items-center gap-4"},Qe=a("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1),ze={key:0},Ge={class:"flex items-center gap-4"},Xe=a("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1),Ze={key:0},Pt={__name:"Crud",setup(p){_e(()=>{be.getProducts().then(s=>d.value=s)});const r=he(),u=c(),d=c(),v=c(!1),y=c(!1),g=c(!1),e=c({}),f=c(),x=c({global:{value:null,matchMode:Se.CONTAINS}}),b=c(!1),O=c([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]);function I(s){if(s)return s.toLocaleString("en-US",{style:"currency",currency:"USD"})}function L(){e.value={},b.value=!1,v.value=!0}function M(){v.value=!1,b.value=!1}function K(){var s;b.value=!0,(s=e==null?void 0:e.value.name)!=null&&s.trim()&&(e.value.id?(e.value.inventoryStatus=e.value.inventoryStatus.value?e.value.inventoryStatus.value:e.value.inventoryStatus,d.value[A(e.value.id)]=e.value,r.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(e.value.id=w(),e.value.code=w(),e.value.image="product-placeholder.svg",e.value.inventoryStatus=e.value.inventoryStatus?e.value.inventoryStatus.value:"INSTOCK",d.value.push(e.value),r.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),v.value=!1,e.value={})}function q(s){e.value=$({},s),v.value=!0}function F(s){e.value=s,y.value=!0}function R(){d.value=d.value.filter(s=>s.id!==e.value.id),y.value=!1,e.value={},r.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}function A(s){let l=-1;for(let i=0;i<d.value.length;i++)if(d.value[i].id===s){l=i;break}return l}function w(){let s="";for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)s+=l.charAt(Math.floor(Math.random()*l.length));return s}function B(){u.value.exportCSV()}function E(){g.value=!0}function H(){d.value=d.value.filter(s=>!f.value.includes(s)),g.value=!1,f.value=null,r.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}function W(s){switch(s){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return null}}return(s,l)=>{const i=ge,Y=ye,j=pe,P=fe,J=ve,m=me,Q=ce,z=de,G=ue,X=re,Z=ne,S=ie,U=se,C=ae;return _(),h("div",null,[a("div",ke,[o(Y,{class:"mb-6"},{start:n(()=>[o(i,{label:"New",icon:"pi pi-plus",severity:"secondary",class:"mr-2",onClick:L}),o(i,{label:"Delete",icon:"pi pi-trash",severity:"secondary",onClick:E,disabled:!f.value||!f.value.length},null,8,["disabled"])]),end:n(()=>[o(i,{label:"Export",icon:"pi pi-upload",severity:"secondary",onClick:l[0]||(l[0]=t=>B(t))})]),_:1}),o(G,{ref_key:"dt",ref:u,selection:f.value,"onUpdate:selection":l[2]||(l[2]=t=>f.value=t),value:d.value,dataKey:"id",paginator:!0,rows:10,filters:x.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},{header:n(()=>[a("div",xe,[Ce,o(J,null,{default:n(()=>[o(j,null,{default:n(()=>[Ve]),_:1}),o(P,{modelValue:x.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=t=>x.value.global.value=t),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:n(()=>[o(m,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),o(m,{field:"code",header:"Code",sortable:"",style:{"min-width":"12rem"}}),o(m,{field:"name",header:"Name",sortable:"",style:{"min-width":"16rem"}}),o(m,{header:"Image"},{body:n(t=>[a("img",{src:`https://primefaces.org/cdn/primevue/images/product/${t.data.image}`,alt:t.data.image,class:"rounded",style:{width:"64px"}},null,8,we)]),_:1}),o(m,{field:"price",header:"Price",sortable:"",style:{"min-width":"8rem"}},{body:n(t=>[V(D(I(t.data.price)),1)]),_:1}),o(m,{field:"category",header:"Category",sortable:"",style:{"min-width":"10rem"}}),o(m,{field:"rating",header:"Reviews",sortable:"",style:{"min-width":"12rem"}},{body:n(t=>[o(Q,{modelValue:t.data.rating,readonly:!0},null,8,["modelValue"])]),_:1}),o(m,{field:"inventoryStatus",header:"Status",sortable:"",style:{"min-width":"12rem"}},{body:n(t=>[o(z,{value:t.data.inventoryStatus,severity:W(t.data.inventoryStatus)},null,8,["value","severity"])]),_:1}),o(m,{exportable:!1,style:{"min-width":"12rem"}},{body:n(t=>[o(i,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:ee=>q(t.data)},null,8,["onClick"]),o(i,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:ee=>F(t.data)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","filters"])]),o(C,{visible:v.value,"onUpdate:visible":l[12]||(l[12]=t=>v.value=t),style:{width:"450px"},header:"Product Details",modal:!0},{footer:n(()=>[o(i,{label:"Cancel",icon:"pi pi-times",text:"",onClick:M}),o(i,{label:"Save",icon:"pi pi-check",onClick:K})]),default:n(()=>[a("div",Pe,[e.value.image?(_(),h("img",{key:0,src:`https://primefaces.org/cdn/primevue/images/product/${e.value.image}`,alt:e.value.image,class:"block m-auto pb-4"},null,8,Ue)):k("",!0),a("div",null,[Te,o(P,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.name=t),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:b.value&&!e.value.name,fluid:""},null,8,["modelValue","invalid"]),b.value&&!e.value.name?(_(),h("small",Ne,"Name is required.")):k("",!0)]),a("div",null,[$e,o(X,{id:"description",modelValue:e.value.description,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.description=t),required:"true",rows:"3",cols:"20",fluid:""},null,8,["modelValue"])]),a("div",null,[De,o(Z,{id:"inventoryStatus",modelValue:e.value.inventoryStatus,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.inventoryStatus=t),options:O.value,optionLabel:"label",placeholder:"Select a Status",fluid:""},null,8,["modelValue","options"])]),a("div",null,[Oe,a("div",Ie,[a("div",Le,[o(S,{id:"category1",modelValue:e.value.category,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.category=t),name:"category",value:"Accessories"},null,8,["modelValue"]),Me]),a("div",Ke,[o(S,{id:"category2",modelValue:e.value.category,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.category=t),name:"category",value:"Clothing"},null,8,["modelValue"]),qe]),a("div",Fe,[o(S,{id:"category3",modelValue:e.value.category,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.category=t),name:"category",value:"Electronics"},null,8,["modelValue"]),Re]),a("div",Ae,[o(S,{id:"category4",modelValue:e.value.category,"onUpdate:modelValue":l[9]||(l[9]=t=>e.value.category=t),name:"category",value:"Fitness"},null,8,["modelValue"]),Be])])]),a("div",Ee,[a("div",He,[We,o(U,{id:"price",modelValue:e.value.price,"onUpdate:modelValue":l[10]||(l[10]=t=>e.value.price=t),mode:"currency",currency:"USD",locale:"en-US",fluid:""},null,8,["modelValue"])]),a("div",Ye,[je,o(U,{id:"quantity",modelValue:e.value.quantity,"onUpdate:modelValue":l[11]||(l[11]=t=>e.value.quantity=t),integeronly:"",fluid:""},null,8,["modelValue"])])])])]),_:1},8,["visible"]),o(C,{visible:y.value,"onUpdate:visible":l[14]||(l[14]=t=>y.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(i,{label:"No",icon:"pi pi-times",text:"",onClick:l[13]||(l[13]=t=>y.value=!1)}),o(i,{label:"Yes",icon:"pi pi-check",onClick:R})]),default:n(()=>[a("div",Je,[Qe,e.value?(_(),h("span",ze,[V("Are you sure you want to delete "),a("b",null,D(e.value.name),1),V("?")])):k("",!0)])]),_:1},8,["visible"]),o(C,{visible:g.value,"onUpdate:visible":l[16]||(l[16]=t=>g.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(i,{label:"No",icon:"pi pi-times",text:"",onClick:l[15]||(l[15]=t=>g.value=!1)}),o(i,{label:"Yes",icon:"pi pi-check",text:"",onClick:H})]),default:n(()=>[a("div",Ge,[Xe,e.value?(_(),h("span",Ze,"Are you sure you want to delete the selected products?")):k("",!0)])]),_:1},8,["visible"])])}}};export{Pt as default};
